# ğŸš€ è‡ªåŠ¨éƒ¨ç½²èµ›åšéœ“è™¹è´ªåƒè›‡æ¸¸æˆåˆ°GitHub Pages
name: Deploy Cyber Snake Game to GitHub Pages

# è§¦å‘æ¡ä»¶ï¼šæ¨é€åˆ°mainåˆ†æ”¯æˆ–åˆ›å»ºPull Requestæ—¶
on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]
  
  # å…è®¸æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ
  workflow_dispatch:

# è®¾ç½®GITHUB_TOKENçš„æƒé™ä»¥å…è®¸éƒ¨ç½²åˆ°GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# åªå…è®¸ä¸€ä¸ªå¹¶å‘éƒ¨ç½²ï¼Œè·³è¿‡æ­£åœ¨è¿è¡Œå’Œæœ€æ–°æ’é˜Ÿä¹‹é—´çš„è¿è¡Œ
# ä½†æ˜¯ï¼Œä¸è¦å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„è¿è¡Œï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›è®©è¿™äº›ç”Ÿäº§éƒ¨ç½²å®Œæˆ
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # æ„å»ºä»»åŠ¡
  build:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ æ£€å‡ºä»£ç 
        uses: actions/checkout@v4
        
      - name: ğŸ”§ è®¾ç½®GitHub Pages
        uses: actions/configure-pages@v4
        
      - name: ğŸ“¦ ä¸Šä¼ æ„å»ºäº§ç‰©
        uses: actions/upload-pages-artifact@v3
        with:
          # ä¸Šä¼ æ•´ä¸ªä»“åº“
          path: '.'

  # éƒ¨ç½²ä»»åŠ¡
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: ğŸš€ éƒ¨ç½²åˆ°GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4